<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>Captain's Log</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        

    $( document ).ready(function() {


    localStorage.setItem('log', 'Initializing');

        $(document).keypress(function(e){
            if(e.which == 13) {
                store();
            }
        }); 
 
    });


    function reload() {
        elem = document.getElementById("log");
        output = "";        
        output = localStorage[log];

        elem.innerHTML = output;

    }    

    function store(){
        txt = currDate(curr = new Date()) + document.getElementById("msg").value + "</p>\n";

        if (localStorage[log] == undefined){
            localStorage[log] = txt;
        } else {
            localStorage[log] = txt + localStorage[log];
        }

        reload();

    }

    function currDate(date) {
        var monthNames = [
        "January", "February", "March",
        "April", "May", "June", "July",
        "August", "September", "October",
        "November", "December"
        ];

        var weekday = new Array(7);
        weekday[0] =  "Sunday";
        weekday[1] = "Monday";
        weekday[2] = "Tuesday";
        weekday[3] = "Wednesday";
        weekday[4] = "Thursday";
        weekday[5] = "Friday";
        weekday[6] = "Saturday";

    var dayOfWeek = weekday[date.getDay()];
    var day = date.getDate();
    var monthIndex = date.getMonth();
    var year = date.getFullYear();
    var hours = date.getHours();
    var minutes = date.getMinutes();
    var seconds = date.getSeconds(); 

    return dayOfWeek + ' ' + day + ' ' + monthNames[monthIndex] + ' ' + hours +':'+ minutes+ ':' + seconds + ' '+ year + ' - ';
    }

    
    </script>
</head>

<body>
    <h1>Captain's Log</h1>
    <h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
    <div id="log"></div>
</body>
</html>